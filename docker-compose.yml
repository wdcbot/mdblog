version: '3.8'

services:
  mdblog:
    build: .
    container_name: mdblog
    restart: unless-stopped
    ports:
      - "8080:8080"
    volumes:
      # 数据持久化 - 首次启动会自动从镜像同步数据
      - mdblog_content:/app/content
      - mdblog_data:/app/data
      - mdblog_uploads:/app/uploads
      # 配置文件可选挂载（如需自定义配置）
      - ./config.yaml:/app/config.yaml

volumes:
  mdblog_content:
  mdblog_data:
  mdblog_uploads:
